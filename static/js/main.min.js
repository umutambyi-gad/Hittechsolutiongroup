AOS.init({duration:800,easing:"slide"}),function(e){"use strict";e(".js-fullheight").css("height",e(window).height()),e(window).resize(function(){e(".js-fullheight").css("height",e(window).height())});setTimeout(function(){e("#ftco-loader").length>0&&e("#ftco-loader").removeClass("show")},1),e.Scrollax();e(".home-slider").owlCarousel({loop:!0,autoplay:!0,margin:0,animateOut:"fadeOut",animateIn:"fadeIn",nav:!1,autoplayHoverPause:!1,items:1,navText:["<span class='ion-md-arrow-back'></span>","<span class='ion-chevron-right'></span>"],responsive:{0:{items:1},600:{items:1},1000:{items:1}}}),e(".carousel-testimony").owlCarousel({autoplay:!0,center:!0,loop:!0,items:1,margin:30,stagePadding:0,nav:!1,navText:['<span class="ion-ios-arrow-back">','<span class="ion-ios-arrow-forward">'],responsive:{0:{items:1},600:{items:1},1000:{items:2}}}),e("nav .dropdown").hover(function(){var a=e(this);a.addClass("show"),a.find("> a").attr("aria-expanded",!0),a.find(".dropdown-menu").addClass("show")},function(){var a=e(this);a.removeClass("show"),a.find("> a").attr("aria-expanded",!1),a.find(".dropdown-menu").removeClass("show")}),e("#dropdown04").on("show.bs.dropdown",function(){console.log("show")});e(window).scroll(function(){var a=e(this).scrollTop(),n=e(".ftco_navbar"),t=e(".js-scroll-wrap");a>150&&(n.hasClass("scrolled")||n.addClass("scrolled")),a<150&&n.hasClass("scrolled")&&n.removeClass("scrolled sleep"),a>350&&(n.hasClass("awake")||n.addClass("awake"),t.length>0&&t.addClass("sleep")),a<350&&(n.hasClass("awake")&&(n.removeClass("awake"),n.addClass("sleep")),t.length>0&&t.removeClass("sleep"))});e("#section-counter").waypoint(function(a){if("down"===a&&!e(this.element).hasClass("ftco-animated")){var n=e.animateNumber.numberStepFactories.separator(",");e(".number").each(function(){var a=e(this),t=a.data("number");console.log(t),a.animateNumber({number:t,numberStep:n},7e3)})}},{offset:"95%"});function a(a,n,t){"POST"==a.toUpperCase()&&(n.csrfmiddlewaretoken=e("input[name=csrfmiddlewaretoken]").val()),e.ajax({url:location.path,type:a,data:n,success:t})}e(".ftco-animate").waypoint(function(a){"down"!==a||e(this.element).hasClass("ftco-animated")||(e(this.element).addClass("item-animate"),setTimeout(function(){e("body .ftco-animate.item-animate").each(function(a){var n=e(this);setTimeout(function(){var e=n.data("animate-effect");"fadeIn"===e?n.addClass("fadeIn ftco-animated"):"fadeInLeft"===e?n.addClass("fadeInLeft ftco-animated"):"fadeInRight"===e?n.addClass("fadeInRight ftco-animated"):n.addClass("fadeInUp ftco-animated"),n.removeClass("item-animate")},50*a,"easeInOutExpo")})},100))},{offset:"95%"}),e(".image-popup").magnificPopup({type:"image",closeOnContentClick:!0,closeBtnInside:!1,fixedContentPos:!0,mainClass:"mfp-no-margins mfp-with-zoom",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{verticalFit:!0},zoom:{enabled:!0,duration:300}}),e(".showReplies").on("click",function(){e(this).parents().nextAll("ul.children").fadeToggle(),"Show replies"==e(this).text()?e(this).text("Hide replies"):e(this).text("Show replies")}),e("#join").on("click",()=>{e(".signin-section").fadeIn()}),e("#close-signin").on("click",()=>{e(".signin-section").fadeOut()}),e("#close-signup").on("click",()=>{e(".signup-section").fadeOut()}),e("#signup").on("click",()=>{e(".signin-section").fadeOut(),e(".signup-section").fadeIn()}),e("#signin").on("click",()=>{e(".signup-section").fadeOut(),e(".signin-section").fadeIn()});let n=e(".testimony-section");e("form.appointment-form").on("submit",function(t){a("POST",{message:e(this).find(".form-group textarea").val().trim()},e=>{if(console.log(e),e.isUpdate){let a=e.user_id;n.find(`.item.${a}`).find(`.message.${a}`).text(e.message)}}),e(this).find(".form-group textarea").val(""),t.preventDefault()});let t=e(".signin-section form");function s(e){e.blur()}t.find("input[name=username]").on("input",function(){e(this).parents().prev(".loading").addClass("active")}),t.find("input[name=password]").on("input",function(){e(this).parents().prev(".loading").addClass("active")}),t.find("input[name=username]").on("keydown",function(a){13==a.keyCode&&""!=e(this).val().trim()&&""!=t.find("input[name=password]").val().trim()&&s(e(this))}),t.find("input[name=password]").on("keydown",function(a){13==a.keyCode&&""!=e(this).val().trim()&&""!=t.find("input[name=username]").val().trim()&&s(e(this))}),e(document).on("keydown",function(a){13!=a.keyCode||"block"!==e(".signin-section").css("display")||""==t.find("input[name=password]").val().trim()||""==t.find("input[name=username]").val().trim()||t.find(".error-pop-up").hasClass("active")||t.find("input[name=username]").parents().prev(".loading").hasClass("active")||t.find("input[name=password]").parents().prev(".loading").hasClass("active")||t.submit()}),t.find("input[name=password]").on("blur",function(n){if(""!=t.find("input[name=username]").val().trim()&&""!=e(this).val().trim()){a("POST",{__username:t.find("input[name=username]").val(),__password:e(this).val()},e=>{"invalid credentials"===e.res?t.find(".error-pop-up").addClass("active").fadeIn(1e3):t.find(".error-pop-up").removeClass("active").fadeOut(1e3),t.find("input[name=username]").parents().prev(".loading").removeClass("active"),t.find("input[name=password]").parents().prev(".loading").removeClass("active")})}}),t.find("input[name=username]").on("blur",function(n){if(""!=t.find("input[name=password]").val().trim()&&""!=e(this).val().trim()){a("POST",{__username:e(this).val(),__password:t.find("input[name=password]").val()},e=>{"invalid credentials"===e.res?t.find(".error-pop-up").addClass("active").fadeIn(1e3):t.find(".error-pop-up").removeClass("active").fadeOut(1e3),t.find("input[name=username]").parents().prev(".loading").removeClass("active"),t.find("input[name=password]").parents().prev(".loading").removeClass("active")})}}),t.on("submit",e=>{(t.find(".error-pop-up").hasClass("active")||t.find("input[name=username]").parents().prev(".loading").hasClass("active")||t.find("input[name=password]").parents().prev(".loading").hasClass("active"))&&e.preventDefault()});let i=e(".signup-section input[name=username]");i.on("input",function(){e(this).parents().prev(".loading").addClass("active")}),i.on("blur",()=>{a("POST",{_username:i.val()},e=>{"exists"===e.existance?i.parents().next(".error-pop-up").addClass("active").fadeIn(1e3):i.parents().next(".error-pop-up").removeClass("active").fadeOut(1e3),i.parents().prev(".loading").removeClass("active")})}),e(".signup-section form").on("submit",e=>{(i.parents().next(".error-pop-up").hasClass("active")||i.parents().prev(".loading").hasClass("active"))&&e.preventDefault()});let o=e(".signup-section input[name=email]");o.on("input",function(){e(this).parents().prev(".loading").addClass("active")}),o.on("blur",()=>{a("POST",{_email:o.val()},e=>{"exists"===e.existance?o.parents().next(".error-pop-up").addClass("active").fadeIn(1e3):o.parents().next(".error-pop-up").removeClass("active").fadeOut(1e3),o.parents().prev(".loading").removeClass("active")})}),e(".signup-section form").on("submit",e=>{(o.parents().next(".error-pop-up").hasClass("active")||o.parents().prev(".loading").hasClass("active"))&&e.preventDefault()});let r=e("#profileset form");r.find("input[name=username]").on("input",function(n){a("POST",{_username:e(this).val()},a=>{"exists"===a.existance?e(this).parents().next(".error-pop-up").addClass("active").fadeIn(1e3):e(this).parents().next(".error-pop-up").removeClass("active").fadeOut(1e3)})}),r.find("input[name=email]").on("input",function(n){a("POST",{_email:e(this).val()},a=>{"exists"===a.existance?e(this).parents().next(".error-pop-up").addClass("active").fadeIn(1e3):e(this).parents().next(".error-pop-up").removeClass("active").fadeOut(1e3)})}),r.on("submit",e=>{(r.find("input[name=username]").parents().next(".error-pop-up").hasClass("active")||r.find("input[name=email]").parents().next(".error-pop-up").hasClass("active"))&&e.preventDefault()}),e("#sign-up-section").on("submit",a=>{e(".pwd_1").val().trim()!=e(".pwd_2").val().trim()?(e(".pwd_1").parents().next(".error-pop-up").fadeIn(1e3),e(".pwd_2").parents().next(".error-pop-up").fadeIn(1e3),a.preventDefault()):(e(".pwd_1").parents().next(".error-pop-up").fadeOut(1e3),e(".pwd_2").parents().next(".error-pop-up").fadeOut(1e3))}),e(".reply").on("click",function(){if(e(this).hasClass("notAuthenticated"))e(".signin-section").fadeIn(1e3);else{let a=e(this).parents(".comment-body").children("h3").text().trim(),n=e(this).attr("class").split(" ")[1];sessionStorage.clear(),sessionStorage.setItem("root_comment_id",n),e("#message").val(`@${a} `)}}),e(window).on("load",()=>sessionStorage.clear()),e("#message").on("input",function(){sessionStorage.setItem("ajax_message",e(this).val())}),e("#postcomment").on("click",function(){if(e(this).hasClass("notAuthenticated"))e(".signin-section").fadeIn(1e3);else{a("POST",{ajax_message:sessionStorage.getItem("ajax_message"),root_comment_id:sessionStorage.getItem("root_comment_id")},e=>{sessionStorage.clear(),location.reload()})}}),e("#profile").on("click",()=>{e("#profileset").fadeIn()}),e("#close-profileset").on("click",()=>{e("#profileset").fadeOut()}),e(window).on("load",()=>{e("#notification-bar > p").text().trim().length>0&&(e("#notification-bar").fadeIn(1e3),setTimeout(()=>e("#notification-bar").fadeOut(1e3),6e3))}),e(".delete-root").on("click",function(){a("POST",{root_id:e(this).attr("class").split(" ")[1]},a=>{e("h3 span.total").text(a.total_comments),e("a span.total").text(a.total_comments),e(this).parents("li.comment").remove()})}),e(".delete-reply").on("click",function(){a("POST",{reply_id:e(this).attr("class").split(" ")[1]},a=>{e(this).parents("ul.children").remove()})})}(jQuery);